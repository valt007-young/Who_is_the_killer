<!DOCTYPE html>
<html lang="en">
<head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LZZGYHD65N"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-LZZGYHD65N');
</script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Detective Lie Detector</title>

<style>
body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#2a2a2a,#000);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Georgia,serif;
  color:#eee;
}
#box{
  width:95%;
  max-width:540px;
  background:rgba(20,20,20,0.95);
  border:2px solid #888;
  padding:20px;
  box-shadow:0 0 40px rgba(255,255,255,0.1);
}
h1{text-align:center;margin:5px 0;}
#env,#rank,#cases{
  text-align:center;
  opacity:0.8;
  margin-bottom:8px;
}
#hint{
  background:#222;
  padding:12px;
  border-left:4px solid #aaa;
  margin:12px 0;
}
.suspect{
  background:#1c1c1c;
  border:1px solid #444;
  padding:10px;
  margin-bottom:12px;
}
.suspect b{display:block;margin-bottom:5px;}
button{
  width:100%;
  margin-top:8px;
  padding:10px;
  background:#333;
  color:#fff;
  border:none;
  cursor:pointer;
}
button:hover{background:#555;}
#result{
  text-align:center;
  font-size:18px;
  margin-top:12px;
}
</style>
</head>

<body>
<div id="box">
  <h1>üïµÔ∏è Infinite Detective</h1>
  <div id="rank"></div>
  <div id="cases"></div>
  <div id="env"></div>
  <div id="hint"></div>
  <div id="suspects"></div>
  <div id="result"></div>
</div>

<script>
const environments = {
  Home:{
    hint:[
      "One person claims to be asleep, but another heard movement.",
      "Someone says they never left the room, but a light was switched."
    ],
    statements:[
      "I was in my bedroom the whole night.",
      "I heard footsteps near the kitchen.",
      "The lights were on when I passed the hallway.",
      "I never left the living room."
    ]
  },
  Hospital:{
    hint:[
      "A suspect claims to be on duty, but records disagree.",
      "Someone avoided the security cameras."
    ],
    statements:[
      "I was attending patients all night.",
      "I saw someone leave the ICU nervously.",
      "The hallway was empty during my round.",
      "I never entered the restricted ward."
    ]
  },
  Hotel:{
    hint:[
      "Room service records contradict a guest‚Äôs claim.",
      "Someone checked out earlier than stated."
    ],
    statements:[
      "I stayed in my room all evening.",
      "I saw staff near the elevator late at night.",
      "No one knocked on my door.",
      "I heard movement from the adjacent room."
    ]
  },
  Office:{
    hint:[
      "Keycard logs expose a false alibi.",
      "Someone accessed a locked section."
    ],
    statements:[
      "I left the office before midnight.",
      "I never used my keycard after hours.",
      "Someone was still logged into the system.",
      "I worked late but stayed at my desk."
    ]
  },
  Train:{
    hint:[
      "A passenger changed compartments unexpectedly.",
      "Someone claims they slept through the stop."
    ],
    statements:[
      "I stayed in my seat the whole journey.",
      "I saw someone move compartments.",
      "I never left my coach.",
      "I was awake during every stop."
    ]
  }
};

const ranks = [
  "Rookie Detective",
  "Inspector",
  "Senior Inspector",
  "Crime Analyst",
  "Master Detective",
  "Legendary Detective üèÜ"
];

let solved = 0;
let currentCase = {};
const suspectsDiv = document.getElementById("suspects");
const hintDiv = document.getElementById("hint");
const envDiv = document.getElementById("env");
const rankDiv = document.getElementById("rank");
const casesDiv = document.getElementById("cases");
const resultDiv = document.getElementById("result");

function rank(){
  return ranks[Math.min(Math.floor(solved/3),ranks.length-1)];
}

function newCase(){
  resultDiv.textContent="";
  suspectsDiv.innerHTML="";

  const envKeys = Object.keys(environments);
  const env = envKeys[Math.floor(Math.random()*envKeys.length)];
  const data = environments[env];

  const killer = ["A","B","C","D"][Math.floor(Math.random()*4)];
  currentCase.killer = killer;

  const hint = data.hint[Math.floor(Math.random()*data.hint.length)];

  envDiv.textContent = `Environment: ${env}`;
  hintDiv.textContent = "HINT: " + hint;
  rankDiv.textContent = "Rank: " + rank();
  casesDiv.textContent = `Cases Solved: ${solved}`;

  ["A","B","C","D"].forEach((s,i)=>{
    let text = data.statements[i];
    if(s===killer){
      text += " (statement conflicts with evidence)";
    }
    const div=document.createElement("div");
    div.className="suspect";
    div.innerHTML=`
      <b>Suspect ${s}</b>
      <div>${text}</div>
      <button onclick="accuse('${s}')">Accuse ${s}</button>
    `;
    suspectsDiv.appendChild(div);
  });
}

function accuse(s){
  if(s===currentCase.killer){
    solved++;
    resultDiv.textContent="üëè Correct! New case loading...";
    setTimeout(newCase,2000);
  }else{
    resultDiv.textContent="‚ùå Wrong accusation. Analyze again.";
  }
}

newCase();
</script>
</body>
</html>
